<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DLB</title>
    <link rel="stylesheet" href="28.css">
</head>
<body>
    <div class="page-container page28-scope">
        <div class="content-wrapper">
            <!-- 标题区域 -->
            <div class="header-section">
                <div class="title-section">
                    <div class="red-rectangle"></div>
                    <div class="title-texts">
                        <h2 class="subtitle">Smart</h2>
                        <h1 class="main-title">DLB</h1>
                    </div>
                </div>
            </div>
            
            <!-- 内容区域 -->
            <div class="content-area">
                <div class="description-text">
                    <h2>DLB</h2>
                    <p>The Dynamic Load Balance feature of charging stations is an intelligent power distribution technology that dynamically allocates electrical loads among multiple charging stations. It optimizes the utilization of grid resources, prevents overloads, and enhances charging efficiency.
                    </p>
                </div>
                <div class="dlb-grid">
                    <div class="dlb-item">
                        <img src="res/dlb.png" alt="DLB 1" class="dlb-image">
                        <div class="dlb-bar" id="bar1"></div>
                    </div>
                    <div class="dlb-item">
                        <img src="res/dlb.png" alt="DLB 2" class="dlb-image">
                        <div class="dlb-bar" id="bar2"></div>
                    </div>
                    <div class="dlb-item">
                        <img src="res/dlb.png" alt="DLB 3" class="dlb-image">
                        <div class="dlb-bar" id="bar3"></div>
                    </div>
                    <div class="dlb-item">
                        <img src="res/dlb.png" alt="DLB 4" class="dlb-image">
                        <div class="dlb-bar" id="bar4"></div>
                    </div>
                    <div class="dlb-item">
                        <img src="res/dlb.png" alt="DLB 5" class="dlb-image">
                        <div class="dlb-bar" id="bar5"></div>
                    </div>
                    <div class="dlb-item">
                        <img src="res/dlb.png" alt="DLB 6" class="dlb-image">
                        <div class="dlb-bar" id="bar6"></div>
                    </div>
                    <div class="dlb-item">
                        <img src="res/dlb.png" alt="DLB 7" class="dlb-image">
                        <div class="dlb-bar" id="bar7"></div>
                    </div>
                    <div class="dlb-item">
                        <img src="res/dlb.png" alt="DLB 8" class="dlb-image">
                        <div class="dlb-bar" id="bar8"></div>
                    </div>
                    <script>
                        let lastHeights = Array(8).fill(12.5);
                        let targetHeights = Array(8).fill(12.5);
                        let nextUpdateTime = 0;
                        
                        function generateNewTargets() {
                            return Array.from({length: 8}, () => 5 + Math.random() * 20);
                        }
                        
                        function lerp(start, end, t) {
                            return start + (end - start) * t;
                        }
                        
                        function updateBars() {
                            const bars = Array.from({length: 8}, (_, i) => document.getElementById(`bar${i+1}`));
                            const currentTime = Date.now();
                            
                            // 每1秒生成新的目标高度
                            if (currentTime >= nextUpdateTime) {
                                lastHeights = [...targetHeights];
                                targetHeights = generateNewTargets();
                                nextUpdateTime = currentTime + 1000;
                            }
                            
                            // 计算当前进度(0-1)
                            let progress = (currentTime - (nextUpdateTime - 1000)) / 1000;
                            progress = Math.min(1, Math.max(0, progress));
                            
                            // 插值计算当前高度
                            let heights = lastHeights.map((last, i) => 
                                lerp(last, targetHeights[i], progress)
                            );
                            
                            // 归一化确保总和为100
                            let total = heights.reduce((a, b) => a + b, 0);
                            heights = heights.map(h => (h / total) * 100);
                            
                            // 更新柱条高度
                            bars.forEach((bar, i) => {
                                let pixelHeight = (heights[i] / 100) * 500;
                                bar.style.height = pixelHeight + 'px';
                            });
                        }
                        
                        // 每16ms更新一次（约60fps）
                        setInterval(updateBars, 16);
                        updateBars();
                    </script>
                </div>
            </div>

            

        </div>
    </div>
</body>
</html>
