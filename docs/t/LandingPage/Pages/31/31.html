<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Phase Switch for PV <4.2kW</title>
    <link rel="stylesheet" href="31.css">
    <style>
        
        .animation-container {
            width: 100%;
            max-width: 600px;
            aspect-ratio: 1/1;
            margin: 0 auto;
            position: relative;
            background: opacity(0);
            border-radius: 20px;
            overflow: visible;
            backdrop-filter: blur(10px);
            padding: 0;
            box-sizing: border-box;
        }

        .sphere {
            position: absolute;
            left: 0;
            top: 0;
            width: 80%;
            height: 80%;
            background-image: url('res/sph1.png') !important;
            background-size: contain !important;
            background-repeat: no-repeat !important;
            background-position: center !important;
            z-index: 1 !important;
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }

        .cloud {
            position: absolute;
            top: 20%;
            transform: translateY(-50%);
            width: 24%;
            aspect-ratio: 3/2;
            background-image: url('res/cloud.png') !important;
            background-size: contain !important;
            background-repeat: no-repeat !important;
            background-position: center !important;
            z-index: 2 !important;
            /* 云朵动画 */
            animation: cloudMove 7s ease-in-out infinite;
        }

        .color-bar {
            position: absolute;
            right: 60%;
            bottom: 69%;
            width: 1%;
            background: #4ecdc4 !important;
            border-radius: 15px !important;
            z-index: 2 !important;
            /* 色柱动画 */
            animation: barHeight 7s ease-in-out infinite !important;
        }

        /* 云朵移动动画 */
        @keyframes cloudMove {
            0% {
                left: -10%;
            }
            42.86% {
                left: calc(31% - 10%);
            }
            57.14% {
                left: calc(31% - 10%);
            }
            100% {
                /* 再用3秒移出右边 */
                left: 62%;
            }
        }

        /* 色柱高度变化动画 */
        @keyframes barHeight {
            0% {
                height: 10%;
            }
            42.86% {
                height: 3%;
            }
            57.14% {
                height: 3%;
            }
            100% {
                height: 10%;
            }
        }

        /* 球体图片切换动画 */
        .sphere.change {
            background-image: url('res/sph2.png') !important;
        }

        /* 控制面板样式 */
        .controls {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px;
            border-radius: 10px;
            font-size: 12px;
            z-index: 10;
        }

        .controls h4 {
            margin: 0 0 10px 0;
            color: #4ecdc4;
        }

        .controls p {
            margin: 2px 0;
            line-height: 1.4;
        }
    </style>
</head>
<body>
    <div class="page-container page31-scope">
        <div class="content-wrapper">
            <!-- 标题区域 -->
            <div class="header-section">
                <div class="title-section">
                    <div class="red-rectangle"></div>
                    <div class="title-texts">
                        <h2 class="subtitle">Smart</h2>
                        <h1 class="main-title">Smart Phase Switch for PV <4.2kW</h1>
                    </div>
                </div>
            </div>
            
            <!-- 内容区域 -->
            <div class="content-area">
                <div class="description-text">
                <p>When PV power to Elecq is less than 4.2 kW in total*. Elecq switches off phases 2 and 3 to single phase charging, enabling excess PV power greater than 1.4 kW to be used. 
                    Since billing with the energy supplier is only based on the cumulative power consumption from the grid over all three phases, this means no energy consumption or excess from this point of view, despite the 1-phase charging with higher currents. 
                    If the excess PV power rises above 4.2 kW again, Elecq switches back to three phases charging.
                </p>
                </div>
            </div>

            <div class="animation-container">
                <!-- 背景球体 -->
                <div class="sphere" id="sphere"></div>
                
                <!-- 移动的云朵 -->
                <div class="cloud" id="cloud"></div>
                
                <!-- 动态色柱 -->
                <div class="color-bar" id="colorBar"></div>
            </div>
        
            <script>
                // 球体图片切换逻辑
                const sphere = document.getElementById('sphere');
                const cloud = document.getElementById('cloud');
                
                // 动画时间参数（毫秒）
                const ANIMATION_DURATION = 7000; // 总动画时长：7秒
                const CHANGE_TO_SPH2_TIME = 2750; // 2.75秒时切换到sph2.png
                const CHANGE_TO_SPH1_TIME = 5250; // 4.25秒时切换回sph1.png（云朵开始继续移动后0.25秒）
                
                function animationCycle() {
                    // 第2.75秒时，切换到sph2.png
                    setTimeout(() => {
                        sphere.classList.add('change');
                    }, CHANGE_TO_SPH2_TIME);
                    
                    // 第4.25秒时，切换回sph1.png
                    setTimeout(() => {
                        sphere.classList.remove('change');
                    }, CHANGE_TO_SPH1_TIME);
                }
                
                // 开始动画循环
                animationCycle();
                setInterval(animationCycle, ANIMATION_DURATION);
            </script>
        </div>
    </div>
</body>
</html>
