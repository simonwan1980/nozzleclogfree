<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Full-rated operating temperature</title>
    <link rel="stylesheet" href="7.css">
    <link rel="stylesheet" href="heatwave-effect.css">
</head>
<body>
    <div class="page-container page7-scope">
        <div class="content-wrapper">
            <!-- 标题区域 -->
            <div class="header-section">
                <div class="title-section">
                    <div class="red-rectangle"></div>
                    <div class="title-texts">
                        <h2 class="subtitle">Temperature</h2>
                        <h1 class="main-title">Full-rated operating temperature</h1>
                    </div>
                </div>
            </div>
            
            <!-- 内容区域 -->
            <div class="content-area">
                <div class="description-text">
                    <p>With advanced thermal management, Elecq delivers full-rated performance at 45°C, enabling faster charging in high-temperature environments compared to other chargers.</p>
                </div>
                
                <!-- 产品比较区域 -->
                <div class="product-comparison">
                    <div class="comparison-grid">
                        <!-- 产品容器区域 -->
                        <div class="product-container">
                            <div class="product-header">Elecq Home</div>
                            <div class="product-image-container">
                                <img src="../common/images/elecq ac.png" alt="Elecq Home" class="product-image">
                                <div class="temperature-range"><span class="white-text">-40~</span><span class="green-text">55°C</span></div>
                            </div>
                        </div>
                        
                        <div class="product-container">
                            <div class="product-header">Others</div>
                            <div class="product-image-container">
                                <img src="../common/images/other.png" alt="Others" class="product-image">
                                <div class="temperature-range"><span class="white-text">No official spec, but testing shows throttling starts at </span><span class="red-text">30°C.</span></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 添加两张横向并排的图片 -->
                    <div class="additional-images">
                        <div class="image-container">
                            <img src="res/hot.jpg" alt="Temperature Image" class="additional-image heatwave-target">
                        </div>
                        <div class="image-container">
                            <img src="res/curve.png" alt="Performance Curve" class="additional-image">
                        </div>
                    </div>
                    
                    <div class="footnote">*Charging Pile Heats Up to 80°C When It's 55°C Outside</div>
                    <div class="footnote">*Calculated and measured by Elecq Labs</div>
                </div>
            </div>
        </div>
    </div>
    <script>
/**
 * 热浪扭曲效果 JavaScript
 * 使用方法:
 * 1. 直接调用 applyHeatwaveEffect(selector)
 */
function applyHeatwaveEffect(selector, options = {}) {
    // 默认配置
    const defaults = {
        useTurbulence: true,
        layers: 20
    };
    // 合并配置
    const settings = Object.assign({}, defaults, options);
    // 限制层数在1-20之间
    settings.layers = Math.min(20, Math.max(1, settings.layers));
    // 获取所有匹配的图片元素
    const images = document.querySelectorAll(selector);
    images.forEach((img) => {
        // 1. 创建容器
        const container = document.createElement('div');
        container.className = 'heatwave-container';
        // 2. 获取图片的原始属性
        const imgSrc = img.src;
        const imgAlt = img.alt || '';
        const imgWidth = img.width;
        const imgHeight = img.height;
        const imgClasses = img.className;
        // 3. 创建新的图片元素
        const newImg = document.createElement('img');
        newImg.src = imgSrc;
        newImg.alt = imgAlt;
        newImg.className = `heatwave-image ${imgClasses}`;
        // 4. 将图片添加到容器
        container.appendChild(newImg);
        // 5. 创建扭曲层
        for (let i = 1; i <= settings.layers; i++) {
            const layer = document.createElement('div');
            layer.className = `distortion-layer layer${i}`;
            layer.style.backgroundImage = `url(${imgSrc})`;
            container.appendChild(layer);
        }
        // 6. 如启用湍流效果，添加SVG滤镜
        if (settings.useTurbulence) {
            const svgFilters = document.createElement('svg');
            svgFilters.className = 'svg-filters';
            svgFilters.innerHTML = `
                <defs>
                    <filter id="turbulence-${generateUniqueId()}" x="0%" y="0%" width="100%" height="100%">
                        <feTurbulence baseFrequency="0.02 0.1" numOctaves="3" result="noise">
                            <animate attributeName="baseFrequency" 
                                     values="0.02 0.1;0.03 0.12;0.02 0.1" 
                                     dur="4s" 
                                     repeatCount="indefinite"/>
                        </feTurbulence>
                        <feDisplacementMap in="SourceGraphic" in2="noise" scale="5">
                            <animate attributeName="scale" 
                                     values="3;8;3" 
                                     dur="3s" 
                                     repeatCount="indefinite"/>
                        </feDisplacementMap>
                    </filter>
                </defs>
            `;
            container.appendChild(svgFilters);
            newImg.style.filter = `url(#${svgFilters.querySelector('filter').id})`;
        }
        // 7. 替换原图片
        img.parentNode.replaceChild(container, img);
    });
}
// 生成唯一ID，用于SVG滤镜
function generateUniqueId() {
    return 'xxxxxx'.replace(/[x]/g, function() {
        return (Math.random() * 16 | 0).toString(16);
    });
}
if (typeof window !== 'undefined') {
    window.applyHeatwaveEffect = applyHeatwaveEffect;
}
// 应用 heatwave 效果到 hot.jpg
applyHeatwaveEffect('.heatwave-target');
</script>
</body>
</html>
